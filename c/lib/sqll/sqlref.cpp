////////////////////////////////////////////////////////////////////////
//
//									SQLREF.CPP
//
//				Implementation of the SQL reference container
//
////////////////////////////////////////////////////////////////////////

#include "sqll_.h"

// Globals
extern SQLiteDll	sqliteDll;

SQLRef :: SQLRef ( void )
	{
	////////////////////////////////////////////////////////////////////////
	//
	//	PURPOSE
	//		-	Constructor for the object
	//
	////////////////////////////////////////////////////////////////////////
	plite_db		= NULL;
	plite_stmt	= NULL;

	// So creators do not have to do the initial AddRef
	AddRef();
	}	// SQLRef

void SQLRef :: destruct ( void )
	{
	////////////////////////////////////////////////////////////////////////
	//
	//	OVERLOAD
	//	FROM		CCLObject
	//
	//	PURPOSE
	//		-	Called when the object is being destroyed
	//
	////////////////////////////////////////////////////////////////////////
	if (plite_db != NULL)
		sqliteDll.sqlite3_close(plite_db);
	if (plite_stmt != NULL)
		sqliteDll.sqlite3_finalize(plite_stmt);
	}	// destruct
